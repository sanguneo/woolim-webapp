(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1364)}])},1364:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return o}});var s=t(5893),n=t(7294),i=t(7066),a=t(9967),c=t.n(a);let r=["공식호실","동","층","호","명칭","대표","전화","휴대폰","기타","idx"];function o(){let[e,l]=(0,n.useState)([]),[t,a]=(0,n.useState)("명칭"),[o,x]=(0,n.useState)(""),[d,h]=(0,n.useState)(null),u=()=>i.Z.get("https://script.google.com/macros/s/AKfycbzyJbYPKQyXzPBn_6py2t5zRIqxLVlt3h19tFSr2Ap1FLn6htvGWq1Wj0IDanB6Lbyh/exec").then(e=>e.data).then(e=>(localStorage.setItem("woolimfloor",JSON.stringify(e)),e));(0,n.useEffect)(()=>{let e;let t=JSON.parse(localStorage.getItem("woolimfloor")||"[]");(t.length?Promise.resolve(t):u()).then(e=>{l(e.map((e,l)=>({idx:l,...e})))}),window.addEventListener("beforeinstallprompt",l=>{l.preventDefault(),e=l}),setTimeout(()=>{console.log(e),e&&e.prompt()},500)},[]);let f=(0,n.useMemo)(()=>""===o.trim()?e:e.filter(e=>e[t].includes(o)),[e,o,t]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("main",{className:"h-screen overflow-y-scroll relative flex flex-col items-center",children:[(0,s.jsxs)("nav",{className:"w-full h-12 max-w-[500px] min-w-[320px] sticky top-0 gap-4 flex justify-center py-2 bg-white flex-shrink-0 flex-grow-0",children:[(0,s.jsx)("button",{onClick:()=>u().then(e=>{l(e.map((e,l)=>({idx:l,...e})))}),className:"text-xs",children:"새로고침 ↺"}),(0,s.jsx)("select",{value:t,onChange:e=>{a(e.target.value)},className:"w-20",children:r.map(e=>(0,s.jsx)("option",{value:e,children:e},e))}),(0,s.jsx)("input",{type:"text",placeholder:"검색어 입력",onChange:e=>{x(e.target.value)},value:o,className:"flex-[1] h-8 py-0"})]}),(0,s.jsx)("ul",{className:"".concat(c().list," ").concat(c().head),children:(0,s.jsxs)("li",{children:[(0,s.jsx)("div",{children:"동"}),(0,s.jsx)("div",{children:"층"}),(0,s.jsx)("div",{children:"호"}),(0,s.jsx)("div",{children:"명칭"})]})}),(0,s.jsx)("ul",{className:c().list,children:f.map(e=>(0,s.jsxs)("li",{"data-idx":e.idx,onClick:()=>h(e),children:[(0,s.jsx)("div",{children:e["동"]}),(0,s.jsx)("div",{children:e["층"]}),(0,s.jsx)("div",{children:e["호"]}),(0,s.jsx)("div",{children:e["명칭"]})]},e.idx))}),d&&(0,s.jsxs)("div",{className:"h-screen w-full max-w-[500px] min-w-[360px] fixed top-0 bg-white px-4 py-2 flex flex-col justify-center",children:[(0,s.jsx)("b",{className:"text-3xl absolute top-2 right-4 cursor-pointer",onClick:()=>h(null),children:"\xd7"}),(0,s.jsx)("ul",{className:"flex flex-col gap-4",children:r.map(e=>"idx"!==e&&(0,s.jsxs)("li",{className:"flex w-full gap-4",children:[(0,s.jsx)("div",{className:"label w-20 text-right font-bold",children:e}),(0,s.jsx)("div",{className:"content flex-[1]",children:d[e]})]},e))})]})]})})}},9967:function(e){e.exports={list:"list_list__L7Hpf",head:"list_head__G1VJf"}}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);